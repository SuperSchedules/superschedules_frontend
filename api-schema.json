{
  "openapi": "3.1.0",
  "info": {
    "title": "NinjaAPI",
    "version": "1.0.0",
    "description": ""
  },
  "paths": {
    "/api/v1/users/": {
      "post": {
        "operationId": "api_views_create_user",
        "summary": "Create User",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSchema"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreateSchema"
              }
            }
          },
          "required": true
        }
      }
    },
    "/api/v1/reset/": {
      "post": {
        "operationId": "api_views_request_password_reset",
        "summary": "Request Password Reset",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetRequestSchema"
              }
            }
          },
          "required": true
        }
      }
    },
    "/api/v1/reset/confirm/": {
      "post": {
        "operationId": "api_views_confirm_password_reset",
        "summary": "Confirm Password Reset",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageSchema"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageSchema"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetConfirmSchema"
              }
            }
          },
          "required": true
        }
      }
    },
    "/api/v1/users/verify/{token}/": {
      "post": {
        "operationId": "api_views_verify_email",
        "summary": "Verify Email",
        "parameters": [
          {
            "in": "path",
            "name": "token",
            "schema": {
              "title": "Token",
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageSchema"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageSchema"
                }
              }
            }
          }
        },
        "description": "Verify user's email address using the token from the verification email."
      }
    },
    "/api/v1/users/resend-verification/": {
      "post": {
        "operationId": "api_views_resend_verification_email",
        "summary": "Resend Verification Email",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageSchema"
                }
              }
            }
          }
        },
        "description": "Resend verification email to user.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationResendSchema"
              }
            }
          },
          "required": true
        }
      }
    },
    "/api/v1/ping": {
      "get": {
        "operationId": "api_views_ping",
        "summary": "Ping",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/sources/": {
      "get": {
        "operationId": "api_views_list_sources",
        "summary": "List Sources",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SourceSchema"
                  },
                  "title": "Response",
                  "type": "array"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      },
      "post": {
        "operationId": "api_views_create_source",
        "summary": "Create Source",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SourceSchema"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SourceCreateSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/events/": {
      "get": {
        "operationId": "api_views_list_events",
        "summary": "List Events",
        "parameters": [
          {
            "in": "query",
            "name": "start",
            "schema": {
              "anyOf": [
                {
                  "format": "date",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start"
            },
            "required": false
          },
          {
            "in": "query",
            "name": "end",
            "schema": {
              "anyOf": [
                {
                  "format": "date",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End"
            },
            "required": false
          },
          {
            "in": "query",
            "name": "ids",
            "schema": {
              "items": {
                "type": "integer"
              },
              "title": "Ids",
              "type": "array"
            },
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/EventSchema"
                  },
                  "title": "Response",
                  "type": "array"
                }
              }
            }
          }
        },
        "security": [
          {
            "ServiceTokenAuth": []
          },
          {
            "JWTAuth": []
          }
        ]
      },
      "post": {
        "operationId": "api_views_create_event",
        "summary": "Create Event",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventSchema"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EventCreateSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "ServiceTokenAuth": []
          }
        ]
      }
    },
    "/api/v1/events/{event_id}": {
      "get": {
        "operationId": "api_views_get_event",
        "summary": "Get Event",
        "parameters": [
          {
            "in": "path",
            "name": "event_id",
            "schema": {
              "title": "Event Id",
              "type": "integer"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventSchema"
                }
              }
            }
          }
        },
        "security": [
          {
            "ServiceTokenAuth": []
          },
          {
            "JWTAuth": []
          }
        ]
      },
      "put": {
        "operationId": "api_views_update_event",
        "summary": "Update Event",
        "parameters": [
          {
            "in": "path",
            "name": "event_id",
            "schema": {
              "title": "Event Id",
              "type": "integer"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventSchema"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EventUpdateSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "ServiceTokenAuth": []
          }
        ]
      },
      "delete": {
        "operationId": "api_views_delete_event",
        "summary": "Delete Event",
        "parameters": [
          {
            "in": "path",
            "name": "event_id",
            "schema": {
              "title": "Event Id",
              "type": "integer"
            },
            "required": true
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        },
        "security": [
          {
            "ServiceTokenAuth": []
          }
        ]
      }
    },
    "/api/v1/sites/{domain}/strategy": {
      "get": {
        "operationId": "api_views_get_site_strategy",
        "summary": "Get Site Strategy",
        "parameters": [
          {
            "in": "path",
            "name": "domain",
            "schema": {
              "title": "Domain",
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SiteStrategySchema"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      },
      "post": {
        "operationId": "api_views_report_site_strategy",
        "summary": "Report Site Strategy",
        "parameters": [
          {
            "in": "path",
            "name": "domain",
            "schema": {
              "title": "Domain",
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SiteStrategySchema"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SiteStrategyUpdateSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "ServiceTokenAuth": []
          }
        ]
      },
      "put": {
        "operationId": "api_views_override_site_strategy",
        "summary": "Override Site Strategy",
        "parameters": [
          {
            "in": "path",
            "name": "domain",
            "schema": {
              "title": "Domain",
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SiteStrategySchema"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SiteStrategyUpdateSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/scrape": {
      "post": {
        "operationId": "api_views_submit_scrape",
        "summary": "Submit Scrape",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScrapingJobSchema"
                }
              }
            }
          }
        },
        "description": "Submit URL for asynchronous processing (frontend endpoint).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScrapeRequestSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/scrape/{job_id}": {
      "get": {
        "operationId": "api_views_get_scrape_job",
        "summary": "Get Scrape Job",
        "parameters": [
          {
            "in": "path",
            "name": "job_id",
            "schema": {
              "title": "Job Id",
              "type": "integer"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScrapingJobSchema"
                }
              }
            }
          }
        },
        "security": [
          {
            "ServiceTokenAuth": []
          },
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/scrape/{job_id}/results": {
      "post": {
        "operationId": "api_views_save_scrape_results",
        "summary": "Save Scrape Results",
        "parameters": [
          {
            "in": "path",
            "name": "job_id",
            "schema": {
              "title": "Job Id",
              "type": "integer"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScrapeResultSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "ServiceTokenAuth": []
          }
        ]
      }
    },
    "/api/v1/scrape/batch/": {
      "post": {
        "operationId": "api_views_submit_batch",
        "summary": "Submit Batch",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchResponseSchema"
                }
              }
            }
          }
        },
        "description": "Submit multiple URLs for batch processing.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchRequestSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/scrape/batch/{batch_id}/": {
      "get": {
        "operationId": "api_views_batch_status",
        "summary": "Batch Status",
        "parameters": [
          {
            "in": "path",
            "name": "batch_id",
            "schema": {
              "title": "Batch Id",
              "type": "integer"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ScrapingJobSchema"
                  },
                  "title": "Response",
                  "type": "array"
                }
              }
            }
          }
        },
        "security": [
          {
            "ServiceTokenAuth": []
          },
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/queue/submit": {
      "post": {
        "operationId": "api_views_submit_url_to_queue",
        "summary": "Submit Url To Queue",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScrapingJobSchema"
                }
              }
            }
          }
        },
        "description": "Submit URL for asynchronous processing.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScrapeRequestSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/queue/next": {
      "get": {
        "operationId": "api_views_get_next_job",
        "summary": "Get Next Job",
        "parameters": [
          {
            "in": "query",
            "name": "worker_id",
            "schema": {
              "title": "Worker Id",
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScrapingJobSchema"
                }
              }
            }
          }
        },
        "description": "Workers call this to get next job (atomic claim with SELECT FOR UPDATE).",
        "security": [
          {
            "ServiceTokenAuth": []
          }
        ]
      }
    },
    "/api/v1/queue/{job_id}/complete": {
      "post": {
        "operationId": "api_views_complete_job",
        "summary": "Complete Job",
        "parameters": [
          {
            "in": "path",
            "name": "job_id",
            "schema": {
              "title": "Job Id",
              "type": "integer"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Worker reports job completion with events.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScrapeResultSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "ServiceTokenAuth": []
          }
        ]
      }
    },
    "/api/v1/queue/status": {
      "get": {
        "operationId": "api_views_queue_status",
        "summary": "Queue Status",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Get queue statistics.",
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/queue/bulk-submit": {
      "post": {
        "operationId": "api_views_bulk_submit_urls",
        "summary": "Bulk Submit Urls",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Submit multiple URLs for processing (daily re-scrape use case).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchRequestSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/queue/bulk-submit-service": {
      "post": {
        "operationId": "api_views_bulk_submit_urls_service",
        "summary": "Bulk Submit Urls Service",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Bulk submit URLs using service token (for administrative bulk loading).\nUses first superuser as the submitter since service tokens don't have users.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchRequestSchema"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "ServiceTokenAuth": []
          }
        ]
      }
    },
    "/api/live": {
      "get": {
        "operationId": "api_health_live",
        "summary": "Live",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Kubernetes liveness probe - is the app running?"
      },
      "head": {
        "operationId": "api_health_live_head",
        "summary": "Live",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Kubernetes liveness probe - is the app running?"
      }
    },
    "/api/ready": {
      "get": {
        "operationId": "api_health_ready",
        "summary": "Ready",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Kubernetes readiness probe - can the app serve traffic?"
      },
      "head": {
        "operationId": "api_health_ready_head",
        "summary": "Ready",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Kubernetes readiness probe - can the app serve traffic?"
      }
    },
    "/api/health": {
      "get": {
        "operationId": "api_health_health",
        "summary": "Health",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Simple health check with build version info."
      },
      "head": {
        "operationId": "api_health_health_head",
        "summary": "Health",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Simple health check with build version info."
      }
    },
    "/api/health/dashboard": {
      "get": {
        "operationId": "api_health_health_dashboard",
        "summary": "Health Dashboard",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response",
                  "type": "object"
                }
              }
            }
          },
          "503": {
            "description": "Service Unavailable",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response",
                  "type": "object"
                }
              }
            }
          }
        },
        "description": "Comprehensive health dashboard for all Superschedules services.\nChecks Django, Database, LLM, RAG, Collector, and Navigator.\n\nReturns JSON by default, or HTML if Accept header includes text/html."
      }
    }
  },
  "components": {
    "schemas": {
      "UserSchema": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "ID"
          },
          "username": {
            "description": "Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.",
            "maxLength": 150,
            "title": "Username",
            "type": "string"
          },
          "email": {
            "anyOf": [
              {
                "maxLength": 254,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email Address"
          },
          "first_name": {
            "anyOf": [
              {
                "maxLength": 150,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Name"
          },
          "last_name": {
            "anyOf": [
              {
                "maxLength": 150,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Name"
          }
        },
        "required": [
          "username"
        ],
        "title": "UserSchema",
        "type": "object"
      },
      "UserCreateSchema": {
        "properties": {
          "email": {
            "title": "Email",
            "type": "string"
          },
          "password": {
            "title": "Password",
            "type": "string"
          },
          "first_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Name"
          },
          "last_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Name"
          },
          "turnstileToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Turnstiletoken"
          }
        },
        "required": [
          "email",
          "password"
        ],
        "title": "UserCreateSchema",
        "type": "object"
      },
      "PasswordResetRequestSchema": {
        "properties": {
          "email": {
            "title": "Email",
            "type": "string"
          }
        },
        "required": [
          "email"
        ],
        "title": "PasswordResetRequestSchema",
        "type": "object"
      },
      "MessageSchema": {
        "properties": {
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "message"
        ],
        "title": "MessageSchema",
        "type": "object"
      },
      "PasswordResetConfirmSchema": {
        "properties": {
          "token": {
            "title": "Token",
            "type": "string"
          },
          "password": {
            "title": "Password",
            "type": "string"
          }
        },
        "required": [
          "token",
          "password"
        ],
        "title": "PasswordResetConfirmSchema",
        "type": "object"
      },
      "EmailVerificationResendSchema": {
        "properties": {
          "email": {
            "title": "Email",
            "type": "string"
          }
        },
        "required": [
          "email"
        ],
        "title": "EmailVerificationResendSchema",
        "type": "object"
      },
      "SourceSchema": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "ID"
          },
          "name": {
            "anyOf": [
              {
                "maxLength": 100,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Url"
          },
          "search_method": {
            "default": "manual",
            "maxLength": 20,
            "title": "Search Method",
            "type": "string"
          },
          "status": {
            "default": "not_run",
            "maxLength": 20,
            "title": "Status",
            "type": "string"
          },
          "date_added": {
            "format": "date-time",
            "title": "Date Added",
            "type": "string"
          },
          "last_run_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Run At"
          }
        },
        "required": [
          "date_added"
        ],
        "title": "SourceSchema",
        "type": "object"
      },
      "SourceCreateSchema": {
        "properties": {
          "base_url": {
            "title": "Base Url",
            "type": "string"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "search_method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Search Method"
          }
        },
        "required": [
          "base_url"
        ],
        "title": "SourceCreateSchema",
        "type": "object"
      },
      "EventSchema": {
        "properties": {
          "venue": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VenueSchema"
              },
              {
                "type": "null"
              }
            ]
          },
          "room_name": {
            "default": "",
            "title": "Room Name",
            "type": "string"
          },
          "location": {
            "default": "",
            "title": "Location",
            "type": "string"
          },
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "ID"
          },
          "external_id": {
            "maxLength": 255,
            "title": "External Id",
            "type": "string"
          },
          "title": {
            "maxLength": 255,
            "title": "Title",
            "type": "string"
          },
          "description": {
            "title": "Description",
            "type": "string"
          },
          "start_time": {
            "format": "date-time",
            "title": "Start Time",
            "type": "string"
          },
          "end_time": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url"
          },
          "metadata_tags": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Tags"
          }
        },
        "required": [
          "external_id",
          "title",
          "description",
          "start_time"
        ],
        "title": "EventSchema",
        "type": "object"
      },
      "VenueSchema": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "ID"
          },
          "name": {
            "description": "Venue name (e.g., 'Waltham Public Library')",
            "maxLength": 200,
            "title": "Name",
            "type": "string"
          },
          "street_address": {
            "anyOf": [
              {
                "maxLength": 255,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Street address (e.g., '735 Main Street')",
            "title": "Street Address"
          },
          "city": {
            "description": "City name",
            "maxLength": 100,
            "title": "City",
            "type": "string"
          },
          "state": {
            "description": "State/region (abbreviation or full name)",
            "maxLength": 50,
            "title": "State",
            "type": "string"
          },
          "postal_code": {
            "anyOf": [
              {
                "maxLength": 20,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "ZIP/postal code",
            "title": "Postal Code"
          },
          "latitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Latitude coordinate",
            "title": "Latitude"
          },
          "longitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Longitude coordinate",
            "title": "Longitude"
          }
        },
        "required": [
          "name",
          "city",
          "state"
        ],
        "title": "VenueSchema",
        "type": "object"
      },
      "EventCreateSchema": {
        "properties": {
          "source_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Id"
          },
          "external_id": {
            "title": "External Id",
            "type": "string"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "description": {
            "title": "Description",
            "type": "string"
          },
          "location_data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location Data"
          },
          "start_time": {
            "format": "date-time",
            "title": "Start Time",
            "type": "string"
          },
          "end_time": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url"
          },
          "metadata_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Tags"
          },
          "organizer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Organizer"
          },
          "event_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Event Status"
          },
          "event_attendance_mode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Event Attendance Mode"
          }
        },
        "required": [
          "external_id",
          "title",
          "description",
          "start_time"
        ],
        "title": "EventCreateSchema",
        "type": "object"
      },
      "EventUpdateSchema": {
        "properties": {
          "source_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Id"
          },
          "external_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "External Id"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "start_time": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time"
          },
          "end_time": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url"
          },
          "metadata_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Tags"
          }
        },
        "title": "EventUpdateSchema",
        "type": "object"
      },
      "SiteStrategySchema": {
        "properties": {
          "domain": {
            "maxLength": 200,
            "title": "Domain",
            "type": "string"
          },
          "best_selectors": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Selectors"
          },
          "pagination_pattern": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pagination Pattern"
          },
          "cancellation_indicators": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cancellation Indicators"
          },
          "success_rate": {
            "default": 0,
            "title": "Success Rate",
            "type": "number"
          },
          "total_attempts": {
            "default": 0,
            "title": "Total Attempts",
            "type": "integer"
          },
          "successful_attempts": {
            "default": 0,
            "title": "Successful Attempts",
            "type": "integer"
          },
          "last_successful": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Successful"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "required": [
          "domain"
        ],
        "title": "SiteStrategySchema",
        "type": "object"
      },
      "SiteStrategyUpdateSchema": {
        "properties": {
          "best_selectors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Selectors"
          },
          "pagination_pattern": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pagination Pattern"
          },
          "cancellation_indicators": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cancellation Indicators"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "success": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Success"
          }
        },
        "title": "SiteStrategyUpdateSchema",
        "type": "object"
      },
      "ScrapingJobSchema": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "ID"
          },
          "url": {
            "title": "Url",
            "type": "string"
          },
          "domain": {
            "maxLength": 200,
            "title": "Domain",
            "type": "string"
          },
          "status": {
            "default": "pending",
            "maxLength": 20,
            "title": "Status",
            "type": "string"
          },
          "priority": {
            "default": 5,
            "title": "Priority",
            "type": "integer"
          },
          "strategy_used": {
            "anyOf": [
              {
                "maxLength": 100,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Strategy Used"
          },
          "events_found": {
            "default": 0,
            "title": "Events Found",
            "type": "integer"
          },
          "pages_processed": {
            "default": 1,
            "title": "Pages Processed",
            "type": "integer"
          },
          "processing_time": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "lambda_request_id": {
            "anyOf": [
              {
                "maxLength": 100,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lambda Request Id"
          },
          "worker_type": {
            "anyOf": [
              {
                "maxLength": 20,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Worker Type"
          },
          "estimated_cost": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Cost"
          },
          "extraction_method": {
            "anyOf": [
              {
                "maxLength": 50,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extraction Method"
          },
          "confidence_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Score"
          },
          "locked_by": {
            "anyOf": [
              {
                "maxLength": 100,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Locked By"
          },
          "locked_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Locked At"
          },
          "retry_count": {
            "default": 0,
            "title": "Retry Count",
            "type": "integer"
          },
          "max_retries": {
            "default": 3,
            "title": "Max Retries",
            "type": "integer"
          },
          "submitted_by": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Submitted By"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          }
        },
        "required": [
          "url",
          "domain",
          "created_at"
        ],
        "title": "ScrapingJobSchema",
        "type": "object"
      },
      "ScrapeRequestSchema": {
        "properties": {
          "url": {
            "title": "Url",
            "type": "string"
          }
        },
        "required": [
          "url"
        ],
        "title": "ScrapeRequestSchema",
        "type": "object"
      },
      "ScrapeResultEventSchema": {
        "properties": {
          "external_id": {
            "title": "External Id",
            "type": "string"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "description": {
            "title": "Description",
            "type": "string"
          },
          "location_data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location Data"
          },
          "start_time": {
            "format": "date-time",
            "title": "Start Time",
            "type": "string"
          },
          "end_time": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url"
          },
          "metadata_tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Tags"
          },
          "affiliate_link": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Affiliate Link"
          },
          "revenue_source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revenue Source"
          },
          "commission_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Commission Rate"
          },
          "affiliate_tracking_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Affiliate Tracking Id"
          }
        },
        "required": [
          "external_id",
          "title",
          "description",
          "start_time"
        ],
        "title": "ScrapeResultEventSchema",
        "type": "object"
      },
      "ScrapeResultSchema": {
        "properties": {
          "events": {
            "items": {
              "$ref": "#/components/schemas/ScrapeResultEventSchema"
            },
            "title": "Events",
            "type": "array"
          },
          "events_found": {
            "title": "Events Found",
            "type": "integer"
          },
          "pages_processed": {
            "title": "Pages Processed",
            "type": "integer"
          },
          "processing_time": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "success": {
            "default": true,
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": [
          "events",
          "events_found",
          "pages_processed"
        ],
        "title": "ScrapeResultSchema",
        "type": "object"
      },
      "BatchResponseSchema": {
        "properties": {
          "batch_id": {
            "title": "Batch Id",
            "type": "integer"
          },
          "job_ids": {
            "items": {
              "type": "integer"
            },
            "title": "Job Ids",
            "type": "array"
          }
        },
        "required": [
          "batch_id",
          "job_ids"
        ],
        "title": "BatchResponseSchema",
        "type": "object"
      },
      "BatchRequestSchema": {
        "properties": {
          "urls": {
            "items": {
              "type": "string"
            },
            "title": "Urls",
            "type": "array"
          }
        },
        "required": [
          "urls"
        ],
        "title": "BatchRequestSchema",
        "type": "object"
      }
    },
    "securitySchemes": {
      "JWTAuth": {
        "type": "http",
        "scheme": "bearer"
      },
      "ServiceTokenAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  },
  "servers": []
}